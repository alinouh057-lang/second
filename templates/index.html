<!DOCTYPE html>
<html>
<head>
    <title>Mon Test Fullstack</title>
</head>
<body style="text-align: center; font-family: sans-serif; padding-top: 50px;">

    <h1>Ø§Ù‡Ù„Ø§ Ø¨Ø§Ù„Ø¹Ø³ÙˆÙ„Ø© </h1>
    <input type="number" id="monNombre" placeholder="Tape un chiffre">
    <button onclick="envoyerAuBackend()">Calculer le carrÃ©</button>

    <h2 id="affichage">ðŸ˜˜ðŸ˜˜ðŸ˜˜ðŸ˜˜</h2>

    <script>
        async function envoyerAuBackend() {
    const num = document.getElementById('monNombre').value;
    const affichage = document.getElementById('affichage');
    
    affichage.innerText = "Connexion au serveur en cours... (Patientez 1 min)";

    try {
        const reponse = await fetch('https://first-app-znts.onrender.com/calculer', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ nombre: parseInt(num) })
        });

        if (!reponse.ok) {
            throw new Error("Le serveur a rÃ©pondu avec une erreur");
        }

        const donnees = await reponse.json();
        affichage.innerText = "SuccÃ¨s ! Le carrÃ© est : " + donnees.resultat;
        
    } catch (erreur) {
        console.error("Erreur dÃ©taillÃ©e :", erreur);
        affichage.innerText = "Erreur : " + erreur.message + ". VÃ©rifie la console (F12).";
    }
}
    </script>
</body>
</html>